<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Intro to ES6</title>

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/simple.css">

	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/github-gist.css">

	<!-- custom style -->
	<style>
		.reveal pre {
			display: inline-flex;
			box-shadow: 0 4px 10px 0 rgba(0,0,0,0.2), 0 4px 20px 0 rgba(0,0,0,0.19);
		}

		.reveal pre code {
			font-size: 20px;
			padding: 15px;
		}

		.wide-slide {
			left: -15% !important;
			width: 130% !important;
		}

		.w-left {
			float: left;
			width: 50%;
		}

		.w-right {
			float: right;
			width: 50%;
		}

		.w-important {
			color: #fa2771;
		}

		.w-center-text {
			text-align: center !important;
		}

		.w-no-decoration {
			text-decoration: none !important;
		}

		.w-bold {
			font-weight: bold !important;
		}
	</style>

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>
	<script src="plugin/highlight/highlight.js"></script>
	<script>
		hljs.configure({
			tabReplace: '  '
		});
		hljs.initHighlightingOnLoad();
	</script>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section data-markdown>
				<textarea data-template>
					<h1>ES6</h1>
				</textarea>
			</section>
			<section data-markdown>
				<textarea data-template>
					<h3>ES6 = ECMAScript 6 = ES2015</h3>
					<p>
						è la sesta edizione di un linguaggio di programmazione standardizzato e mantenuto da Ecma International.
						L'implementazione più conosciuta di questo linguaggio è <span class="w-important">JavaScript.</style>
					</p>
				</textarea>
			</section>
			<section>
				<section data-markdown>
					<textarea data-template>	
						<img src="./images/nodejs-new-pantone-black.png" alt="node-logo" class="plain" style="max-width:30%;background:none">
						<p>è un runtime Javascript costruito sul motore JavaScript V8 di Chrome.</p>
					</textarea>
				</section>
				<section>
					<p>
						V8 is Google’s open source high-performance JavaScript engine, written in C++ and used in Google Chrome, the open source
						browser from Google, and in Node.js, among others.
						<span class="w-important">It implements ECMAScript as specified in ECMA-262.</span>
					</p>
				</section>
			</section>
			<section>
				<p>il suo gestore di pacchetti si chiama
					<span class="w-important">npm</style>
				</p>
				<code>npm install express</code>
			</section>
			<section>
				<p>Cosa è cambiato?</p>
				<ul>
					<li>funzioni & oggetti</li>
					<li>promises & funzioni asincrone</li>
					<li>collections, iteratori & generatori</li>
				</ul>
			</section>
			<section>
				<h2>Funzioni & Oggetti</h2>
			</section>
			<section class="wide-slide">
				<p class="w-important">arrow functions</p>
				<p>() => {...}</p>
				<div class="w-left">
					<h4>ES5</h4>
					<pre><code data-trim data-noescape class="javascript" >
						function(pizza, sliceNum) {
							var slices = [];
							for (var i = 0; i < sliceNum; i++) {
								slices.push(pizza.slice());
							}
							return slices;
						}
					</code></pre>
				</div>
				<div class="w-right">
					<h4>ES6</h4>
					<pre><code data-trim data-noescape class="javascript">
							(pizza, sliceNum) => {
								var slices = [];
								for (var i = 0; i < sliceNum; i++) {
									slices.push(pizza.slice());
								}
								return slices;
							}
						</code></pre>
				</div>
			</section>
			<section class="wide-slide">
				<p>non associazione di <span class="w-important">this</span></p>
				<div class="w-left">
					<h4>ES5</h4>
					<pre><code data-trim data-noescape class="javascript">
						function Person() {
							this.age = 0;
						
							setInterval(function growUp() {
								this.age++;
							}, 1000);
						}

						var p = new Person();
						p.age // 0
						p.age // 0
						p.age // 0
					</code></pre>
				</div>
				<div class="w-right">
					<h4>ES6</h4>
					<pre><code data-trim data-noescape class="javascipt">
						function Person() {
							this.age = 0;
						
							setInterval(() => {
								this.age++;
							}, 1000);
						}
					
						var p = new Person();
						p.age // 1
						p.age // 2
						p.age // 3
					</code></pre>
				</div>
			</section>
			<section>
				<p>sintassi più compatta</p>
				<pre><code data-trim data-noescape class="javascript">
					var filtered = [12, 13, 14].map(val => { return val > 12; })
				</code></pre>
			</section>
			<section class="wide-slide">
				<p class="w-important">default parameters</p>
				<div class="w-left">
					<h4>ES5</h4>
					<pre><code data-trim data-noescape class="javascript">
						function multiply(a, b) {
							b = (typeof b !== 'undefined') ?  b : 1;
							return a * b;
						}
					</code></pre>
				</div>
				<div class="w-right">
					<h4>ES6</h4>
					<pre><code data-trim data-noescape class="javascript">
						function multiply(a, b = 1) {
							return a * b;
						}
					</code></pre>
				</div>				
			</section>
			<section class="wide-slide">
				<p><span class="w-important">rest parameters</span> & <span class="w-important">spread syntax</span></p>
				<div class="w-left">
					<pre><code data-trim data-noescape class="javascript">
						function pet(...puppies) {
							for (var i = 0; i < puppies.length; i++) {
								puppies[i].pet();
							}
						}
	
						> pet('jojo', 'sammy', 'kilroy', 'jonboy');
					</code></pre>
				</div>
				<div class="w-right">
					<pre><code data-trim data-noescape class="javascript">
						function BugHunter(name, age, favInsect) {
							this.name = name;
							this.age = age;
							this.favInsect = favInsect;
						}

						var kimHunter = ['Kim', 27, 'Dung Beetle'];

						var hunter = new BugHunter(...kimHunter);
					</code></pre>
				</div>
			</section>
			<section class="wide-slide">
				<div class="w-left">
					<p class="w-bold">rest parameters</p>
					<br>
					<p>Usati nella dichiarazione<br>della funzione</p>
					<p>Combina argomenti<br>senza nome</p>
				</div>
				<div class="w-right">
					<p class="w-bold">spread syntax</p>
					<br>
					<p>Usata quando si chiama<br>una funzione</p>
					<p>Espande un iterabile<br>in più elementi</p>
				</div>
			</section>
			<section class="wide-slide">
				<p class="w-important">classi</p>
				<div class="w-left">
					<h4>ES5</h4>
					<pre><code data-trim data-noescape class="javascript">
						function Bear(name) {
							this.name = name;

							this.slogan = function() {
								console.log('Only you...');
							};
						}
					</code></pre>
				</div>
				<div class="w-right">
					<h4>ES6</h4>
					<pre><code data-trim data-noescape class="javascript">
						class Bear {
							constructor(name) {
								this.name = name;
							}

							slogan() {
								console.log('Only you...');
							}
						}
					</code></pre>
				</div>
			</section>
			<section>
				<p>In generale nessuna funzione aggiuntiva,<br>solamente sintassi dedicata</p>
				<br>
				<p>Possibilità di avere<br>metodi di classe privati con _</p>
			</section>
			<section class="wide-slide">
				<p class="w-important">let <span style="color: black">&</span> const</p>
				<div class="w-left">
					<p>let & const sono block-scoped</p>
					<pre><code data-trim data-noescape class="javascript">
						if (havingFun) {
							let dinner = 'pizza';
						}

						console.log(dinner); // ReferenceError
					</code></pre>
				</div>
				<div class="w-right">
					<p>var non è block-scoped</p>
					<pre><code data-trim data-noescape class="javascript">
						if (havingFun) {
							var dinner = 'pizza';
						}

						console.log(dinner); // pizza
					</code></pre>
				</div>
			</section>
			<section class="wide-slide">
				<p class="w-important">array destructuring</p>
				<div class="w-left">
					<pre><code data-trim data-noescape class="javascript">
						var pizzaSizes = ['slice','halfpie','fullpie'];

						var slice = pizzaSizes[0],
								halfPie = pizzaSizes[1],
								fullPie = pizzaSizes[2];
					</code></pre>
				</div>
				<div class="w-right">
					<pre><code data-trim data-noescape class="javascript">
						let pizzaSizes = ['slice','halfpie','fullpie'];

						let [slice, halfPie, fullPie] = pizzaSizes;
					</code></pre>
				</div>
			</section>
			<section>
				<p class="w-important">object destructuring</p>
				<pre><code data-trim data-noescape class="javascript">
					let {lName, fName} = {fName: 'John', age: 15, lName: 'Doe'};

					console.log(lName + ', ' + fName); // Doe, John
				</code></pre>
			</section>
			<section>
				<h2>Promises</h2>
			</section>
			<section>
				<p>Consente di associare degli handlers con il successo o il fallimento di un'azione asincrona. [...]<br>
					La funzione che compie del lavoro asincrono non ritorna il valore di completamento ma ritorna una promise, tramite la quale si potrà ottenere il valore di completamento una volta che la promise sarà terminata.</p>
			</section>
			<section>
				<p>Una promessa può essere:</p>
				<ul>
					<li>fulfilled - The action relating to the promise succeeded</li>
					<li>rejected - The action relating to the promise failed</li>
					<li>pending - Hasn't fulfilled or rejected yet</li>
					<li>settled - Has fulfilled or rejected</li>
				</ul>
			</section>
			<section>
				<!-- <img src="./images/promises.png" alt="promises-schema" class="plain" style="max-width:100%;background:none"> -->
				<pre><code data-trim data-noescape class="javascript">
					var promise = new Promise(function(resolve, reject) {
						// do a thing, possibly async, then…
					
						if (/* everything turned out fine */) {
							resolve("Stuff worked!");
						} else {
							reject(Error("It broke"));
						}
					});
				</code></pre>
				<pre><code data-trim data-noescape class="javascript">
					promise.then(function(result) {
						console.log(result); // "Stuff worked!"
					}, function(err) {
						console.log(err); // Error: "It broke"
					});
				</code></pre>
			</section>
			<section class="wide-slide">
				<p>XMLHttpRequest -> Promise</p>
				<div class="w-left">
					<pre><code data-trim data-noescape class="javascript">
						function get(url) {
							// Return a new promise.
							return new Promise(function(resolve, reject) {
								// Do the usual XHR stuff
								var req = new XMLHttpRequest();
								req.open('GET', url);
						
								req.onload = function() {
									// This is called even on 404 etc
									// so check the status
									if (req.status == 200) {
										// Resolve the promise
										resolve(req.response);
									}
					</code></pre>
				</div>
				<div class="w-right">
					<pre><code data-trim data-noescape class="javascript">
									else {
										// Otherwise reject 
										// with the status text
										reject(Error(req.statusText));
									}
								};
								// Handle network errors
								req.onerror = function() {
									reject(Error("Network Error"));
								};
								// Make the request
								req.send();
							});
						}
					</code></pre>
				</div>
			</section>
			<section>
				<p>Puoi concatenare più <code class="javascript">.then()</code> insieme per eseguire ulteriori task asincroni uno dopo l'altro</p>
				<pre><code data-trim data-noescape class="javascript">
					get('story.json').then(function(response) {
						return JSON.parse(response);
					}).then(function(response) {
						console.log("Yey JSON!", response);
					})
				</code></pre>
			</section>
		</div>
	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// More info about config & dependencies:
		// - https://github.com/hakimel/reveal.js#configuration
		// - https://github.com/hakimel/reveal.js#dependencies
		Reveal.initialize({
			dependencies: [
				{ src: 'plugin/markdown/marked.js' },
				{ src: 'plugin/markdown/markdown.js' },
				{ src: 'plugin/notes/notes.js', async: true },
				{ src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } }
			]
		});
	</script>
</body>

</html>